<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ - Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #00796b;
            --primary-dark: #004d40;
            --accent-color: #ff9800;
            --success-color: #2e7d32;
            --warning-color: #ef6c00;
            --error-color: #d32f2f;
            --gray-light: #f5f5f5;
            --gray-medium: #e0e0e0;
            --gray-dark: #666;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-color));
            color: white;
            padding: 30px 40px;
            text-align: center;
            border-bottom: 8px solid var(--accent-color);
            position: relative;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-color), #ff5722, #ff9800);
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        .header .subtitle {
            font-size: 18px;
            opacity: 0.95;
            margin-bottom: 12px;
            font-weight: 300;
        }
        
        .header .academic-year {
            background: rgba(255, 255, 255, 0.2);
            display: inline-block;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 15px;
            margin-top: 10px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .progress-container {
            padding: 0 40px;
            background: white;
        }
        
        .progress-bar {
            background: var(--gray-light);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 25px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            width: 0%;
            transition: width 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
            border-radius: 4px;
        }
        
        .progress-text {
            text-align: center;
            color: var(--gray-dark);
            font-size: 14px;
            margin-bottom: 10px;
            font-weight: 500;
        }
        
        .content {
            padding: 40px;
        }
        
        .form-section {
            margin-bottom: 50px;
            border-bottom: 2px solid var(--gray-light);
            padding-bottom: 40px;
            transition: all 0.3s ease;
        }
        
        .form-section:last-of-type {
            border-bottom: none;
            margin-bottom: 30px;
        }
        
        .section-title {
            color: var(--primary-dark);
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--accent-color);
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -3px;
            right: 0;
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-color), transparent);
        }
        
        .section-title i {
            color: var(--accent-color);
            font-size: 26px;
        }
        
        .applicant-type-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }
        
        .applicant-type {
            background: white;
            border: 2px solid var(--gray-medium);
            border-radius: 12px;
            padding: 25px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .applicant-type::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 4px;
            background: var(--primary-color);
            transform: translateX(-100%);
            transition: transform 0.4s ease;
        }
        
        .applicant-type:hover {
            border-color: var(--primary-color);
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 121, 107, 0.15);
        }
        
        .applicant-type:hover::before {
            transform: translateX(0);
        }
        
        .applicant-type.selected {
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
            border-color: var(--primary-color);
            box-shadow: 0 10px 25px rgba(0, 121, 107, 0.2);
        }
        
        .applicant-type.selected::before {
            transform: translateX(0);
            background: linear-gradient(90deg, var(--accent-color), var(--primary-color));
        }
        
        .applicant-type i {
            font-size: 48px;
            color: var(--primary-color);
            margin-bottom: 20px;
            transition: transform 0.3s ease;
        }
        
        .applicant-type:hover i {
            transform: scale(1.1);
        }
        
        .applicant-type h3 {
            color: var(--primary-dark);
            margin-bottom: 12px;
            font-size: 20px;
            font-weight: 600;
        }
        
        .applicant-type p {
            color: var(--gray-dark);
            font-size: 15px;
            line-height: 1.5;
            margin-bottom: 0;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 25px;
            position: relative;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: var(--primary-dark);
            font-weight: 600;
            font-size: 16px;
            transition: color 0.3s ease;
        }
        
        .form-group label.required::after {
            content: ' *';
            color: var(--error-color);
            font-weight: bold;
        }
        
        .input-container {
            position: relative;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid var(--gray-medium);
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
            color: #333;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 4px rgba(0, 121, 107, 0.15);
            transform: translateY(-2px);
        }
        
        input:disabled, select:disabled, textarea:disabled {
            background: var(--gray-light);
            cursor: not-allowed;
            opacity: 0.7;
            border-color: var(--gray-medium);
        }
        
        .input-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-dark);
            pointer-events: none;
        }
        
        .alert {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            font-size: 15px;
            line-height: 1.7;
            border: 2px solid transparent;
            animation: slideIn 0.5s ease;
        }
        
        .alert-info {
            background: linear-gradient(135deg, #e3f2fd, #f3f9ff);
            border-color: #bbdefb;
            color: #1565c0;
        }
        
        .alert-warning {
            background: linear-gradient(135deg, #fff3e0, #fff8e1);
            border-color: #ffe0b2;
            color: var(--warning-color);
        }
        
        .alert-success {
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
            border-color: #c8e6c9;
            color: var(--success-color);
        }
        
        .alert-danger {
            background: linear-gradient(135deg, #ffebee, #ffcdd2);
            border-color: #ef9a9a;
            color: var(--error-color);
        }
        
        .alert i {
            margin-left: 10px;
            font-size: 20px;
        }
        
        .button-container {
            text-align: center;
            margin-top: 60px;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border: none;
            padding: 20px 60px;
            border-radius: 12px;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: inline-flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 10px 30px rgba(0, 121, 107, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-color));
            z-index: 1;
            transition: transform 0.6s ease;
            transform: translateX(-100%);
        }
        
        .submit-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 121, 107, 0.4);
        }
        
        .submit-btn:hover::before {
            transform: translateX(0);
        }
        
        .submit-btn span {
            position: relative;
            z-index: 2;
        }
        
        .submit-btn i {
            position: relative;
            z-index: 2;
            transition: transform 0.3s ease;
        }
        
        .submit-btn:hover i {
            transform: translateX(5px);
        }
        
        .submit-btn:disabled {
            background: var(--gray-medium);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .submit-btn:disabled:hover::before {
            transform: translateX(-100%);
        }
        
        .success-message {
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
            color: var(--success-color);
            padding: 50px;
            border-radius: 15px;
            margin-top: 40px;
            text-align: center;
            display: none;
            border: 3px solid #81c784;
            animation: fadeIn 0.8s ease;
        }
        
        .success-message i {
            font-size: 80px;
            margin-bottom: 30px;
            color: #4caf50;
            animation: bounce 1.5s ease infinite;
        }
        
        .success-message h2 {
            margin-bottom: 25px;
            font-size: 32px;
            font-weight: 700;
        }
        
        .success-message p {
            margin-bottom: 15px;
            font-size: 18px;
            line-height: 1.8;
        }
        
        .success-message .highlight {
            background: rgba(76, 175, 80, 0.1);
            padding: 10px 20px;
            border-radius: 8px;
            display: inline-block;
            margin: 5px;
        }
        
        .footer {
            background: linear-gradient(135deg, #f9f9f9, #f0f0f0);
            padding: 40px 30px;
            text-align: center;
            border-top: 2px solid var(--gray-medium);
            font-size: 15px;
            color: var(--gray-dark);
        }
        
        .footer a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }
        
        .footer a:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }
        
        .footer-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 25px 0;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .footer-info div {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }
        
        .footer-info div:hover {
            transform: translateY(-5px);
        }
        
        .social-links {
            margin: 30px 0;
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border-radius: 50%;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .social-links a::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--accent-color), #ff5722);
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        
        .social-links a:hover {
            transform: translateY(-8px) rotate(5deg);
            box-shadow: 0 10px 25px rgba(0, 121, 107, 0.3);
        }
        
        .social-links a:hover::before {
            opacity: 1;
        }
        
        .social-links a i {
            position: relative;
            z-index: 1;
        }
        
        @media (max-width: 992px) {
            .content {
                padding: 30px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .applicant-type-container {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 28px;
            }
            
            .submit-btn {
                width: 100%;
                justify-content: center;
            }
        }
        
        @media (max-width: 768px) {
            .content {
                padding: 20px;
            }
            
            .header {
                padding: 25px 20px;
            }
            
            .footer-info {
                grid-template-columns: 1fr;
            }
            
            .section-title {
                font-size: 22px;
            }
        }
        
        .hidden {
            display: none !important;
        }
        
        .academic-section {
            animation: slideIn 0.6s ease;
            transition: all 0.5s ease;
        }
        
        .form-fields-container {
            animation: fadeIn 0.8s ease;
        }
        
        .error-message {
            color: var(--error-color);
            font-size: 14px;
            margin-top: 8px;
            display: none;
            font-weight: 500;
            animation: shake 0.5s ease;
        }
        
        .has-error {
            border-color: var(--error-color) !important;
            background: #ffebee !important;
        }
        
        .field-valid {
            border-color: var(--success-color) !important;
            background: #e8f5e9 !important;
        }
        
        .loading {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }
        
        .payment-warning {
            background: linear-gradient(135deg, #fff3e0, #fff8e1);
            border: 3px solid var(--accent-color);
            padding: 25px;
            border-radius: 12px;
            margin: 25px 0;
            display: none;
            animation: pulse 2s infinite;
        }
        
        .payment-checkbox {
            margin: 20px 0;
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 10px;
            border: 2px solid var(--gray-medium);
            transition: all 0.3s ease;
        }
        
        .payment-checkbox input {
            width: 24px;
            height: 24px;
            margin-top: 3px;
        }
        
        .payment-checkbox label {
            margin: 0;
            color: var(--primary-dark);
            line-height: 1.6;
        }
        
        .bridging-fields {
            background: linear-gradient(135deg, #f3e5f5, #f1f8e9);
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            border: 2px solid #ce93d8;
            display: none;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 152, 0, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(255, 152, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 152, 0, 0); }
        }
        
        .fa-bridge:before {
            content: "\f562";
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
        }
        
        .tooltip {
            position: absolute;
            left: -10px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary-dark);
            color: white;
            padding: 5px 10px;
            border-radius: 6px;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 1000;
            white-space: nowrap;
        }
        
        .tooltip::after {
            content: '';
            position: absolute;
            right: -5px;
            top: 50%;
            transform: translateY(-50%);
            border-width: 5px;
            border-style: solid;
            border-color: transparent transparent transparent var(--primary-dark);
        }
        
        .input-container:hover .tooltip {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-graduation-cap"></i> Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</h1>
            <div class="subtitle">Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø¨ÙˆÙ„ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„</div>
            <div class="academic-year">Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠ 1447Ù‡Ù€</div>
        </div>
        
        <div class="progress-container">
            <div class="progress-text">Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬: <span id="progressPercent">0%</span></div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
        
        <div class="content">
            <div class="success-message" id="successMessage">
                <i class="fas fa-check-circle"></i>
                <h2>ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!</h2>
                <p><span class="highlight">âœ… ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­ ÙˆØªØ®Ø²ÙŠÙ†Ù‡ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.</span></p>
                <p><span class="highlight">ğŸ“§ Ø³ØªØµÙ„Ùƒ Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…Ø³Ø¬Ù„ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©.</span></p>
                <p><span class="highlight">ğŸ‘¨â€ğŸ’¼ Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù…Ù† Ù‚Ø¨Ù„ Ù…ÙˆØ¸Ù Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ© Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø¨Ù‚ÙŠØ© Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª.</span></p>
                <p><span class="highlight">ğŸ“ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… 011-123-4567 Ù„Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø±.</span></p>
                <p><span class="highlight">â° ÙŠØ±Ø¬Ù‰ Ù…ØªØ§Ø¨Ø¹Ø© Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ§Ù„Ø¬ÙˆØ§Ù„ Ù„Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª.</span></p>
                <button onclick="location.reload()" class="submit-btn" style="margin-top: 30px; background: linear-gradient(135deg, #4caf50, #2e7d32);">
                    <i class="fas fa-redo"></i> ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
                </button>
            </div>
            
            <div id="formContainer">
                <div class="alert alert-info">
                    <strong><i class="fas fa-info-circle"></i> Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ù‡Ø§Ù…Ø©:</strong>
                    <ul style="margin-right: 25px; margin-top: 15px; font-size: 16px;">
                        <li><strong>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù…ÙŠØ²Ø© Ø¨Ø¹Ù„Ø§Ù…Ø© (*) Ø¥Ù„Ø²Ø§Ù…ÙŠØ©</strong></li>
                        <li>Ø³ÙˆÙ ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ§Ù„Ø¬ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†</li>
                        <li>ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</li>
                        <li>Ø§Ù„Ø¯ÙØ¹ Ù„Ø§ ÙŠØªÙ… Ø§Ù„Ø¢Ù† Ø¨Ù„ Ø¹Ù†Ø¯ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©</li>
                    </ul>
                </div>
                
                <div class="form-section">
                    <div class="section-title">
                        <i class="fas fa-user-graduate"></i>
                        <span>Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</span>
                    </div>
                    
                    <div class="applicant-type-container">
                        <div class="applicant-type selected" data-type="new" id="applicantNew">
                            <i class="fas fa-user-plus"></i>
                            <h3>Ø®Ø±ÙŠØ¬ Ø«Ø§Ù†ÙˆÙŠ Ø¬Ø¯ÙŠØ¯</h3>
                            <p>Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ù„Ù„Ù…Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©</p>
                        </div>
                        
                        <div class="applicant-type" data-type="current" id="applicantCurrent">
                            <i class="fas fa-user-check"></i>
                            <h3>Ø·Ø§Ù„Ø¨ Ø­Ø§Ù„Ù‘ÙŠ</h3>
                            <p>Ø·Ø§Ù„Ø¨ Ù…Ø³Ø¬Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„ÙƒÙ„ÙŠØ© (ØªØ±Ù… Ø«Ø§Ù†ÙŠ)</p>
                        </div>
                        
                        <div class="applicant-type" data-type="transfer" id="applicantTransfer">
                            <i class="fas fa-exchange-alt"></i>
                            <h3>Ù…Ù†Ù‚ÙˆÙ„ Ù…Ù† Ø¬Ø§Ù…Ø¹Ø© Ø£Ø®Ø±Ù‰</h3>
                            <p>Ù†Ù‚Ù„ Ù…Ù† ÙƒÙ„ÙŠØ© Ø£Ùˆ Ø¬Ø§Ù…Ø¹Ø© Ø£Ø®Ø±Ù‰</p>
                        </div>
                        
                        <div class="applicant-type" data-type="bridging" id="applicantBridging">
                            <i class="fas fa-bridge"></i>
                            <h3>ØªØ¬Ø³ÙŠØ±</h3>
                            <p>Ù„Ø®Ø±ÙŠØ¬ÙŠ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø±Ø§ØºØ¨ÙŠÙ† ÙÙŠ Ø§Ù„Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³</p>
                        </div>
                    </div>
                </div>
                
                <form id="registrationForm" novalidate>
                    <input type="hidden" name="access_key" value="8f907260-fc10-46e0-b5b6-422b56f45c19">
                    <input type="hidden" name="subject" value="Ø·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ - Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©">
                    <input type="hidden" name="from_name" value="Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ - Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©">
                    <input type="hidden" name="replyto" id="replyToEmail">
                    <input type="hidden" name="Ù†ÙˆØ¹_Ø§Ù„Ù…ØªÙ‚Ø¯Ù…" id="applicantType" value="new">
                    <input type="hidden" name="timestamp" id="formTimestamp">
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-id-card"></i>
                            <span>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</span>
                        </div>
                        
                        <div class="form-fields-container">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ (Ø±Ø¨Ø§Ø¹ÙŠ)</label>
                                    <div class="input-container">
                                        <input type="text" name="Ø§Ù„Ø§Ø³Ù…_Ø§Ù„ÙƒØ§Ù…Ù„" id="fullName" required 
                                               placeholder="Ø£Ø­Ù…Ø¯ Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¢Ù„ Ø³Ø¹ÙˆØ¯">
                                        <i class="fas fa-user input-icon"></i>
                                        <div class="tooltip">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ù‡ÙˆÙŠØ©</div>
                                    </div>
                                    <div class="error-message" id="fullNameError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© / Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©</label>
                                    <div class="input-container">
                                        <input type="text" name="Ø±Ù‚Ù…_Ø§Ù„Ù‡ÙˆÙŠØ©" id="idNumber" required 
                                               pattern="^[0-9]{10}$|^[0-9]{11}$"
                                               placeholder="Ù¡Ù  Ø£Ùˆ Ù¡Ù¡ Ø±Ù‚Ù…Ù‹Ø§">
                                        <i class="fas fa-id-card input-icon"></i>
                                        <div class="tooltip">Ù¡Ù  Ø£Ø±Ù‚Ø§Ù… Ù„Ù„Ø³Ø¹ÙˆØ¯ÙŠÙŠÙ†ØŒ Ù¡Ù¡ Ù„Ù„Ù…Ù‚ÙŠÙ…ÙŠÙ†</div>
                                    </div>
                                    <div class="error-message" id="idNumberError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ (Ù‡Ø¬Ø±ÙŠ)</label>
                                    <div class="input-container">
                                        <input type="text" name="ØªØ§Ø±ÙŠØ®_Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯_Ù‡Ø¬Ø±ÙŠ" id="hijriBirth" required 
                                               placeholder="Ù‡Ù€/Ø´Ù‡Ø±/ÙŠÙˆÙ…/Ø³Ù†Ø© (Ù…Ø«Ø§Ù„: 1445/08/15)"
                                               pattern="^(14[4-9][0-9])\/(0[1-9]|1[0-2])\/(0[1-9]|[12][0-9]|3[01])$">
                                        <i class="fas fa-calendar-alt input-icon"></i>
                                        <div class="tooltip">Ø§Ù„ØµÙŠØºØ©: Ø³Ù†Ø©/Ø´Ù‡Ø±/ÙŠÙˆÙ…</div>
                                    </div>
                                    <div class="error-message" id="hijriBirthError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ (Ù…ÙŠÙ„Ø§Ø¯ÙŠ)</label>
                                    <div class="input-container">
                                        <input type="date" name="ØªØ§Ø±ÙŠØ®_Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯_Ù…ÙŠÙ„Ø§Ø¯ÙŠ" id="gregorianBirth" required>
                                        <i class="fas fa-calendar input-icon"></i>
                                    </div>
                                    <div class="error-message" id="gregorianBirthError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø¬Ù†Ø³</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„Ø¬Ù†Ø³" id="gender" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù†Ø³</option>
                                            <option value="Ø°ÙƒØ±">Ø°ÙƒØ±</option>
                                            <option value="Ø£Ù†Ø«Ù‰">Ø£Ù†Ø«Ù‰</option>
                                        </select>
                                        <i class="fas fa-venus-mars input-icon"></i>
                                    </div>
                                    <div class="error-message" id="genderError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</label>
                                    <div class="input-container">
                                        <input type="text" name="Ø§Ù„Ø¬Ù†Ø³ÙŠØ©" id="nationality" required value="Ø³Ø¹ÙˆØ¯ÙŠ">
                                        <i class="fas fa-flag input-icon"></i>
                                    </div>
                                    <div class="error-message" id="nationalityError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„Ø­Ø§Ù„Ø©_Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©" id="maritalStatus" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
                                            <option value="Ø£Ø¹Ø²Ø¨">Ø£Ø¹Ø²Ø¨</option>
                                            <option value="Ù…ØªØ²ÙˆØ¬">Ù…ØªØ²ÙˆØ¬</option>
                                            <option value="Ù…Ø·Ù„Ù‚">Ù…Ø·Ù„Ù‚</option>
                                            <option value="Ø£Ø±Ù…Ù„">Ø£Ø±Ù…Ù„</option>
                                        </select>
                                        <i class="fas fa-heart input-icon"></i>
                                    </div>
                                    <div class="error-message" id="maritalStatusError"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-address-book"></i>
                            <span>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</span>
                        </div>
                        
                        <div class="form-fields-container">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</label>
                                    <div class="input-container">
                                        <input type="tel" name="Ø±Ù‚Ù…_Ø§Ù„Ø¬ÙˆØ§Ù„" id="phoneNumber" required 
                                               pattern="^05[0-9]{8}$"
                                               placeholder="05xxxxxxxx">
                                        <i class="fas fa-mobile-alt input-icon"></i>
                                        <div class="tooltip">ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 05 ÙˆÙŠØªÙƒÙˆÙ† Ù…Ù† Ù¡Ù  Ø£Ø±Ù‚Ø§Ù…</div>
                                    </div>
                                    <div class="error-message" id="phoneNumberError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                                    <div class="input-container">
                                        <input type="email" name="Ø§Ù„Ø¨Ø±ÙŠØ¯_Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" id="email" required
                                               placeholder="example@domain.com">
                                        <i class="fas fa-envelope input-icon"></i>
                                    </div>
                                    <div class="error-message" id="emailError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„Ù…Ù†Ø·Ù‚Ø©" id="region" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</option>
                                            <option value="Ø§Ù„Ø±ÙŠØ§Ø¶">Ø§Ù„Ø±ÙŠØ§Ø¶</option>
                                            <option value="Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©">Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©</option>
                                            <option value="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©</option>
                                            <option value="Ø§Ù„Ø´Ø±Ù‚ÙŠØ©">Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø´Ø±Ù‚ÙŠØ©</option>
                                            <option value="Ø§Ù„Ù‚ØµÙŠÙ…">Ø§Ù„Ù‚ØµÙŠÙ…</option>
                                            <option value="Ø¹Ø³ÙŠØ±">Ø¹Ø³ÙŠØ±</option>
                                            <option value="ØªØ¨ÙˆÙƒ">ØªØ¨ÙˆÙƒ</option>
                                            <option value="Ø­Ø§Ø¦Ù„">Ø­Ø§Ø¦Ù„</option>
                                            <option value="Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©">Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©</option>
                                            <option value="Ø¬Ø§Ø²Ø§Ù†">Ø¬Ø§Ø²Ø§Ù†</option>
                                            <option value="Ù†Ø¬Ø±Ø§Ù†">Ù†Ø¬Ø±Ø§Ù†</option>
                                            <option value="Ø§Ù„Ø¨Ø§Ø­Ø©">Ø§Ù„Ø¨Ø§Ø­Ø©</option>
                                            <option value="Ø§Ù„Ø¬ÙˆÙ">Ø§Ù„Ø¬ÙˆÙ</option>
                                        </select>
                                        <i class="fas fa-map-marker-alt input-icon"></i>
                                    </div>
                                    <div class="error-message" id="regionError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©" id="city" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
                                        </select>
                                        <i class="fas fa-city input-icon"></i>
                                    </div>
                                    <div class="error-message" id="cityError"></div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="required">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</label>
                                <div class="input-container">
                                    <textarea name="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†_Ø§Ù„ØªÙØµÙŠÙ„ÙŠ" id="address" rows="4" required
                                              placeholder="Ø§Ù„Ø­ÙŠ - Ø§Ù„Ø´Ø§Ø±Ø¹ - Ø±Ù‚Ù… Ø§Ù„Ù…Ø¨Ù†Ù‰ - Ø±Ù‚Ù… Ø§Ù„Ø´Ù‚Ø©"></textarea>
                                    <i class="fas fa-home input-icon" style="top: 25px;"></i>
                                </div>
                                <div class="error-message" id="addressError"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-graduation-cap"></i>
                            <span>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©</span>
                        </div>
                        
                        <div class="payment-warning" id="paymentWarning">
                            <strong><i class="fas fa-exclamation-triangle"></i> ØªÙ†Ø¨ÙŠÙ‡ Ù‡Ø§Ù…:</strong>
                            <p style="margin-top: 10px; font-size: 16px;">Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³Ø§Ø± (Ù…Ø³Ø§Ø¦ÙŠ / ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨Ø¹Ø¯) Ø¨Ø±Ø³ÙˆÙ… Ø¯Ø±Ø§Ø³ÙŠØ©.</p>
                            <p style="margin-top: 10px; font-size: 16px;"><strong>ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¹Ù„Ù… Ø£Ù† Ø§Ù„Ø¯ÙØ¹ Ù„Ø§ ÙŠØªÙ… Ø§Ù„Ø¢Ù†ØŒ Ø¨Ù„ Ø³ÙŠÙƒÙˆÙ† Ø¹Ù†Ø¯ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©.</strong></p>
                        </div>
                        
                        <div class="payment-checkbox hidden" id="paymentCheckbox">
                            <input type="checkbox" id="paymentAgreement" required>
                            <label for="paymentAgreement" class="required">
                                Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø£Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³Ø§Ø± Ø¨Ø±Ø³ÙˆÙ… Ø¯Ø±Ø§Ø³ÙŠØ© ÙˆØ³Ø£Ù‚ÙˆÙ… Ø¨Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©
                            </label>
                        </div>
                        
                        <div class="bridging-fields" id="bridgingFields">
                            <div class="alert alert-info">
                                <i class="fas fa-university"></i>
                                <strong>Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ±:</strong> ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…</label>
                                    <div class="input-container">
                                        <input type="number" name="Ù…Ø¹Ø¯Ù„_Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…" id="diplomaGPA" step="0.01" min="2" max="5">
                                        <i class="fas fa-chart-line input-icon"></i>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="required">ØªØ®ØµØµ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…</label>
                                    <div class="input-container">
                                        <input type="text" name="ØªØ®ØµØµ_Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…" id="diplomaSpecialty">
                                        <i class="fas fa-certificate input-icon"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-fields-container academic-section" id="newStudentFields">
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle"></i>
                                <strong>Ù„Ø®Ø±ÙŠØ¬ÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©:</strong> ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© ÙƒØ§Ù…Ù„Ø©
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¤Ù‡Ù„</label>
                                    <div class="input-container">
                                        <select name="Ù†ÙˆØ¹_Ø§Ù„Ù…Ø¤Ù‡Ù„" id="qualificationType" required>
                                            <option value="">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¤Ù‡Ù„</option>
                                            <option value="Ø«Ø§Ù†ÙˆÙŠØ© Ø¹Ø§Ù…Ø©">Ø«Ø§Ù†ÙˆÙŠØ© Ø¹Ø§Ù…Ø©</option>
                                            <option value="Ø«Ø§Ù†ÙˆÙŠØ© ØªØ¬Ø§Ø±ÙŠØ©">Ø«Ø§Ù†ÙˆÙŠØ© ØªØ¬Ø§Ø±ÙŠØ©</option>
                                            <option value="Ø«Ø§Ù†ÙˆÙŠØ© ØµÙ†Ø§Ø¹ÙŠØ©">Ø«Ø§Ù†ÙˆÙŠØ© ØµÙ†Ø§Ø¹ÙŠØ©</option>
                                            <option value="Ø«Ø§Ù†ÙˆÙŠØ© Ø²Ø±Ø§Ø¹ÙŠØ©">Ø«Ø§Ù†ÙˆÙŠØ© Ø²Ø±Ø§Ø¹ÙŠØ©</option>
                                            <option value="Ø«Ø§Ù†ÙˆÙŠØ© ÙÙ†Ø¯Ù‚ÙŠØ©">Ø«Ø§Ù†ÙˆÙŠØ© ÙÙ†Ø¯Ù‚ÙŠØ©</option>
                                            <option value="Ø«Ø§Ù†ÙˆÙŠØ© ØµØ­ÙŠØ©">Ø«Ø§Ù†ÙˆÙŠØ© ØµØ­ÙŠØ©</option>
                                            <option value="Ø«Ø§Ù†ÙˆÙŠØ© Ø´Ø±Ø¹ÙŠØ©">Ø«Ø§Ù†ÙˆÙŠØ© Ø´Ø±Ø¹ÙŠØ©</option>
                                            <option value="Ø«Ø§Ù†ÙˆÙŠØ© ØªØ­ÙÙŠØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù†">Ø«Ø§Ù†ÙˆÙŠØ© ØªØ­ÙÙŠØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù†</option>
                                            <option value="Ø«Ø§Ù†ÙˆÙŠØ© Ù…Ø¹Ù‡Ø¯ Ø§Ù„Ø£Ø¦Ù…Ø© ÙˆØ§Ù„Ø®Ø·Ø¨Ø§Ø¡">Ø«Ø§Ù†ÙˆÙŠØ© Ù…Ø¹Ù‡Ø¯ Ø§Ù„Ø£Ø¦Ù…Ø© ÙˆØ§Ù„Ø®Ø·Ø¨Ø§Ø¡</option>
                                        </select>
                                        <i class="fas fa-graduation-cap input-icon"></i>
                                    </div>
                                    <div class="error-message" id="qualificationTypeError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ØªØ®ØµØµ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©</label>
                                    <div class="input-container">
                                        <select name="ØªØ®ØµØµ_Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©" id="highschoolSpecialization" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>
                                        </select>
                                        <i class="fas fa-book input-icon"></i>
                                    </div>
                                    <div class="error-message" id="highschoolSpecializationError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø³Ù†Ø© Ø§Ù„ØªØ®Ø±Ø¬ (Ù‡Ø¬Ø±ÙŠ)</label>
                                    <div class="input-container">
                                        <select name="Ø³Ù†Ø©_Ø§Ù„ØªØ®Ø±Ø¬_Ù‡Ø¬Ø±ÙŠ" id="graduationYear" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø³Ù†Ø©</option>
                                            <option value="1445">1445 Ù‡Ù€</option>
                                            <option value="1446">1446 Ù‡Ù€</option>
                                            <option value="1447">1447 Ù‡Ù€</option>
                                            <option value="1448">1448 Ù‡Ù€</option>
                                            <option value="1449">1449 Ù‡Ù€</option>
                                        </select>
                                        <i class="fas fa-calendar input-icon"></i>
                                    </div>
                                    <div class="error-message" id="graduationYearError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ù…Ø¹Ø¯Ù„ / Ø§Ù„Ù†Ø³Ø¨Ø©</label>
                                    <div class="input-container">
                                        <input type="number" name="Ø§Ù„Ù…Ø¹Ø¯Ù„" id="average" step="0.01" min="50" max="100" required
                                               placeholder="Ù…Ø«Ø§Ù„: 85.5">
                                        <i class="fas fa-percentage input-icon"></i>
                                    </div>
                                    <div class="error-message" id="averageError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Ø¯Ø±Ø¬Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù‚Ø¯Ø±Ø§Øª</label>
                                    <div class="input-container">
                                        <input type="number" name="Ø¯Ø±Ø¬Ø©_Ø§Ù„Ù‚Ø¯Ø±Ø§Øª" id="aptitudeScore" step="0.01" min="0" max="100"
                                               class="optional" placeholder="Ø§Ø®ØªÙŠØ§Ø±ÙŠ">
                                        <i class="fas fa-brain input-icon"></i>
                                    </div>
                                    <div class="error-message" id="aptitudeScoreError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label>Ø¯Ø±Ø¬Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ­ØµÙŠÙ„ÙŠ</label>
                                    <div class="input-container">
                                        <input type="number" name="Ø¯Ø±Ø¬Ø©_Ø§Ù„ØªØ­ØµÙŠÙ„ÙŠ" id="achievementScore" step="0.01" min="0" max="100"
                                               class="optional" placeholder="Ø§Ø®ØªÙŠØ§Ø±ÙŠ">
                                        <i class="fas fa-chart-bar input-icon"></i>
                                    </div>
                                    <div class="error-message" id="achievementScoreError"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-fields-container academic-section hidden" id="currentStudentFields">
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                <strong>Ù„Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠÙŠÙ†:</strong> Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙÙŠ Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ</label>
                                    <div class="input-container">
                                        <input type="text" name="Ø§Ù„Ø±Ù‚Ù…_Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ_Ø­Ø§Ù„ÙŠ" id="currentAcademicNumber" required
                                               placeholder="Ù…Ø«Ø§Ù„: 202312345">
                                        <i class="fas fa-hashtag input-icon"></i>
                                    </div>
                                    <div class="error-message" id="currentAcademicNumberError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„ÙØµÙ„ Ø§Ù„Ø­Ø§Ù„ÙŠ</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„ÙØµÙ„_Ø§Ù„Ø­Ø§Ù„ÙŠ" id="currentSemester" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙØµÙ„</option>
                                            <option value="Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„">Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„</option>
                                            <option value="Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ">Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ</option>
                                            <option value="Ø§Ù„ÙØµÙ„ Ø§Ù„ØµÙŠÙÙŠ">Ø§Ù„ÙØµÙ„ Ø§Ù„ØµÙŠÙÙŠ</option>
                                        </select>
                                        <i class="fas fa-calendar-alt input-icon"></i>
                                    </div>
                                    <div class="error-message" id="currentSemesterError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ</label>
                                    <div class="input-container">
                                        <input type="number" name="Ø§Ù„Ù…Ø¹Ø¯Ù„_Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ_Ø­Ø§Ù„ÙŠ" id="currentGPA" step="0.01" min="0" max="5" required
                                               placeholder="Ù…Ø«Ø§Ù„: 3.75">
                                        <i class="fas fa-star input-icon"></i>
                                    </div>
                                    <div class="error-message" id="currentGPAError"></div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="required">Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ø­Ø§Ù„ÙŠ</label>
                                <div class="input-container">
                                    <select name="Ø§Ù„ØªØ®ØµØµ_Ø§Ù„Ø­Ø§Ù„ÙŠ" id="currentSpecialization" required>
                                        <option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ø­Ø§Ù„ÙŠ</option>
                                        <optgroup label="Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©">
                                            <option value="Ø¥Ø¯Ø§Ø±Ø© Ù…ÙƒØªØ¨ÙŠØ©">Ø¥Ø¯Ø§Ø±Ø© Ù…ÙƒØªØ¨ÙŠØ©</option>
                                            <option value="Ù…Ø­Ø§Ø³Ø¨Ø©">Ù…Ø­Ø§Ø³Ø¨Ø©</option>
                                            <option value="Ø¥Ø¯Ø§Ø±Ø© Ø³Ø¬Ù„Ø§Øª Ø·Ø¨ÙŠØ©">Ø¥Ø¯Ø§Ø±Ø© Ø³Ø¬Ù„Ø§Øª Ø·Ø¨ÙŠØ©</option>
                                        </optgroup>
                                        <optgroup label="Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª">
                                            <option value="Ø¯Ø¹Ù… ÙÙ†ÙŠ">Ø¯Ø¹Ù… ÙÙ†ÙŠ</option>
                                            <option value="Ø´Ø¨ÙƒØ§Øª">Ø´Ø¨ÙƒØ§Øª</option>
                                            <option value="Ø¨Ø±Ù…Ø¬Ø©">Ø¨Ø±Ù…Ø¬Ø©</option>
                                        </optgroup>
                                    </select>
                                    <i class="fas fa-laptop-code input-icon"></i>
                                </div>
                                <div class="error-message" id="currentSpecializationError"></div>
                            </div>
                        </div>
                        
                        <div class="form-fields-container academic-section hidden" id="transferStudentFields">
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle"></i>
                                <strong>Ù„Ù„Ù…Ù†Ù‚ÙˆÙ„ÙŠÙ†:</strong> Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù…Ù† Ø§Ù„ÙƒÙ„ÙŠØ© / Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„ÙƒÙ„ÙŠØ© / Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</label>
                                    <div class="input-container">
                                        <input type="text" name="Ø§Ù„ÙƒÙ„ÙŠØ©_Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©" id="previousCollege" required
                                               placeholder="Ø§Ø³Ù… Ø§Ù„ÙƒÙ„ÙŠØ© Ø£Ùˆ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©">
                                        <i class="fas fa-university input-icon"></i>
                                    </div>
                                    <div class="error-message" id="previousCollegeError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ø³Ø§Ø¨Ù‚</label>
                                    <div class="input-container">
                                        <input type="text" name="Ø§Ù„ØªØ®ØµØµ_Ø§Ù„Ø³Ø§Ø¨Ù‚" id="previousSpecialization" required
                                               placeholder="Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ø°ÙŠ Ø¯Ø±Ø³ØªÙ‡">
                                        <i class="fas fa-book-open input-icon"></i>
                                    </div>
                                    <div class="error-message" id="previousSpecializationError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ</label>
                                    <div class="input-container">
                                        <input type="number" name="Ø§Ù„Ù…Ø¹Ø¯Ù„_Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ_Ù†Ù‚Ù„" id="transferGPA" step="0.01" min="0" max="5" required
                                               placeholder="Ù…Ø«Ø§Ù„: 3.50">
                                        <i class="fas fa-chart-line input-icon"></i>
                                    </div>
                                    <div class="error-message" id="transferGPAError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ù†Ø¬Ø²Ø©</label>
                                    <div class="input-container">
                                        <input type="number" name="Ø§Ù„Ø³Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ù†Ø¬Ø²Ø©" id="completedHours" min="0" max="200" required
                                               placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª">
                                        <i class="fas fa-clock input-icon"></i>
                                    </div>
                                    <div class="error-message" id="completedHoursError"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-list-ol"></i>
                            <span>Ø§Ù„Ø±ØºØ¨Ø§Øª ÙˆØ§Ù„ØªØ®ØµØµØ§Øª</span>
                        </div>
                        
                        <div class="form-fields-container">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…ÙØ¶Ù„Ø©</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„ÙƒÙ„ÙŠØ©_Ø§Ù„ØªÙ‚Ù†ÙŠØ©" id="college" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ„ÙŠØ©</option>
                                        </select>
                                        <i class="fas fa-school input-icon"></i>
                                    </div>
                                    <div class="error-message" id="collegeError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</label>
                                    <div class="input-container">
                                        <select name="Ù†ÙˆØ¹_Ø§Ù„Ø¯Ø±Ø§Ø³Ø©" id="studyType" required>
                                            <option value="">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</option>
                                            <option value="Ù…Ù†ØªØ¸Ù…">Ù…Ù†ØªØ¸Ù…</option>
                                            <option value="Ù…Ø³Ø§Ø¦ÙŠ">Ù…Ø³Ø§Ø¦ÙŠ</option>
                                            <option value="Ø§Ù†ØªØ³Ø§Ø¨">Ø§Ù†ØªØ³Ø§Ø¨</option>
                                            <option value="ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨Ø¹Ø¯">ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨Ø¹Ø¯</option>
                                        </select>
                                        <i class="fas fa-chalkboard-teacher input-icon"></i>
                                    </div>
                                    <div class="error-message" id="studyTypeError"></div>
                                </div>
                            </div>
                            
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                <strong>Ù…Ù„Ø§Ø­Ø¸Ø©:</strong> ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù…Ø¤Ù‡Ù„Ùƒ ÙˆØ¬Ù†Ø³Ùƒ ÙˆØ³Ù†Ø© Ø§Ù„ØªØ®Ø±Ø¬
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø±ØºØ¨Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„Ø±ØºØ¨Ø©_Ø§Ù„Ø£ÙˆÙ„Ù‰" id="firstPreference" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>
                                        </select>
                                        <i class="fas fa-medal input-icon"></i>
                                    </div>
                                    <div class="error-message" id="firstPreferenceError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label>Ø§Ù„Ø±ØºØ¨Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„Ø±ØºØ¨Ø©_Ø§Ù„Ø«Ø§Ù†ÙŠØ©" id="secondPreference">
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>
                                        </select>
                                        <i class="fas fa-award input-icon"></i>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</label>
                                <div class="input-container">
                                    <textarea name="Ù…Ù„Ø§Ø­Ø¸Ø§Øª" id="notes" rows="4" 
                                              placeholder="Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© ØªØ±ÙŠØ¯ Ø¥Ø¶Ø§ÙØªÙ‡Ø§... (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"></textarea>
                                    <i class="fas fa-sticky-note input-icon" style="top: 25px;"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="button-container">
                        <button type="submit" class="submit-btn" id="submitBtn">
                            <i class="fas fa-paper-plane"></i>
                            <span>Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="footer">
            <div class="footer-info">
                <div>
                    <i class="fas fa-phone-alt"></i>
                    <span>Ù‡Ø§ØªÙ Ø§Ù„Ø¯Ø¹Ù…: 011-123-4567</span>
                </div>
                <div>
                    <i class="fas fa-envelope"></i>
                    <span>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: info@tvtc.edu.sa</span>
                </div>
                <div>
                    <i class="fas fa-clock"></i>
                    <span>Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„: 8 ØµØ¨Ø§Ø­Ø§Ù‹ - 4 Ø¹ØµØ±Ø§Ù‹</span>
                </div>
                <div>
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Ø§Ù„Ø±ÙŠØ§Ø¶ - Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯</span>
                </div>
            </div>
            
            <div class="social-links">
                <a href="#" title="ØªÙˆÙŠØªØ±"><i class="fab fa-twitter"></i></a>
                <a href="#" title="ÙÙŠØ³Ø¨ÙˆÙƒ"><i class="fab fa-facebook-f"></i></a>
                <a href="#" title="Ø¥Ù†Ø³ØªØ¬Ø±Ø§Ù…"><i class="fab fa-instagram"></i></a>
                <a href="#" title="ÙŠÙˆØªÙŠÙˆØ¨"><i class="fab fa-youtube"></i></a>
                <a href="#" title="Ù„ÙŠÙ†ÙƒØ¯ Ø¥Ù†"><i class="fab fa-linkedin-in"></i></a>
            </div>
            
            <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© 2024 | <a href="#">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a> | <a href="#">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a> | <a href="#">Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹</a></p>
            <p style="margin-top: 15px; font-size: 13px; color: #888;">Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ù‚Ø¯Ù… Ù…Ù† Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø¨ÙˆÙ„ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„ - Ø§Ù„Ø¥ØµØ¯Ø§Ø± 3.0</p>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // âœ… ØªÙ‡ÙŠØ¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©
        const registrationForm = document.getElementById('registrationForm');
        const formContainer = document.getElementById('formContainer');
        const successMessage = document.getElementById('successMessage');
        const submitBtn = document.getElementById('submitBtn');
        const applicantTypeInput = document.getElementById('applicantType');
        const replyToEmail = document.getElementById('replyToEmail');
        const formTimestamp = document.getElementById('formTimestamp');
        
        // âœ… ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
        const formState = {
            currentApplicantType: 'new',
            studyType: '',
            selectedRegion: '',
            selectedCollege: '',
            originalSpecializations: [],
            filteredSpecializations: [],
            citiesByRegion: {},
            collegesByRegion: {}
        };
        
        // âœ… 1. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… - ØªÙ†ÙÙŠØ° ÙÙˆØ± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        function initializeSystem() {
            console.log('ğŸš€ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ - Ø§Ù„Ø¥ØµØ¯Ø§Ø± 3.0');
            
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø²Ù…Ù†ÙŠ
            formTimestamp.value = new Date().toISOString();
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
            loadDynamicData();
            
            // ØªÙ‡ÙŠØ¦Ø© Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø­Ù‚ÙˆÙ„
            initializeFieldEvents();
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
            updateProgressBar();
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„
            updateAcademicFields('new');
            
            console.log('âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…');
        }
        
        // âœ… 2. ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
        function loadDynamicData() {
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¯Ù†
            loadCitiesData();
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙ„ÙŠØ§Øª
            loadCollegesData();
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ®ØµØµØ§Øª
            loadSpecializationsData();
            
            // ØªØ­Ù…ÙŠÙ„ ØªØ®ØµØµØ§Øª Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©
            loadHighschoolSpecializations();
        }
        
        // âœ… 3. ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ù†
        function loadCitiesData() {
            formState.citiesByRegion = {
                'Ø§Ù„Ø±ÙŠØ§Ø¶': ['Ø§Ù„Ø±ÙŠØ§Ø¶', 'Ø§Ù„Ø®Ø±Ø¬', 'Ø§Ù„Ø¯ÙˆØ§Ø¯Ù…ÙŠ', 'Ø§Ù„Ù…Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ù‚ÙˆÙŠØ¹ÙŠØ©', 'ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¯ÙˆØ§Ø³Ø±', 'Ø§Ù„Ø£ÙÙ„Ø§Ø¬'],
                'Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©': ['Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©', 'Ø¬Ø¯Ø©', 'Ø§Ù„Ø·Ø§Ø¦Ù', 'Ø§Ù„Ù‚Ù†ÙØ°Ø©', 'Ø§Ù„Ù„ÙŠØ«', 'Ø±Ø§Ø¨Øº'],
                'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©': ['Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©', 'ÙŠÙ†Ø¨Ø¹', 'Ø§Ù„Ø¹Ù„Ø§', 'Ø§Ù„Ù…Ù‡Ø¯'],
                'Ø§Ù„Ø´Ø±Ù‚ÙŠØ©': ['Ø§Ù„Ø¯Ù…Ø§Ù…', 'Ø§Ù„Ø®Ø¨Ø±', 'Ø§Ù„Ø¸Ù‡Ø±Ø§Ù†', 'Ø§Ù„Ø£Ø­Ø³Ø§Ø¡', 'Ø§Ù„Ù‚Ø·ÙŠÙ', 'Ø§Ù„Ø¬Ø¨ÙŠÙ„', 'Ø¨Ù‚ÙŠÙ‚', 'Ø­ÙØ± Ø§Ù„Ø¨Ø§Ø·Ù†'],
                'Ø§Ù„Ù‚ØµÙŠÙ…': ['Ø¨Ø±ÙŠØ¯Ø©', 'Ø¹Ù†ÙŠØ²Ø©', 'Ø§Ù„Ù…Ø°Ù†Ø¨', 'Ø§Ù„Ø±Ø³'],
                'Ø¹Ø³ÙŠØ±': ['Ø£Ø¨Ù‡Ø§', 'Ø®Ù…ÙŠØ³ Ù…Ø´ÙŠØ·', 'Ø§Ù„Ù†Ù…Ø§Øµ', 'Ø¨Ù„Ù„Ø³Ù…Ø±'],
                'ØªØ¨ÙˆÙƒ': ['ØªØ¨ÙˆÙƒ', 'Ø§Ù„ÙˆØ¬Ù‡', 'Ø¶Ø¨Ø§Ø¡'],
                'Ø­Ø§Ø¦Ù„': ['Ø­Ø§Ø¦Ù„', 'Ø§Ù„ØºØ²Ø§Ù„Ø©'],
                'Ø¬Ø§Ø²Ø§Ù†': ['Ø¬Ø§Ø²Ø§Ù†', 'ØµØ¨ÙŠØ§', 'Ø£Ø¨Ùˆ Ø¹Ø±ÙŠØ´'],
                'Ù†Ø¬Ø±Ø§Ù†': ['Ù†Ø¬Ø±Ø§Ù†', 'Ø´Ø±ÙˆØ±Ø©'],
                'Ø§Ù„Ø¨Ø§Ø­Ø©': ['Ø§Ù„Ø¨Ø§Ø­Ø©', 'Ø§Ù„Ù…Ø®ÙˆØ§Ø©'],
                'Ø§Ù„Ø¬ÙˆÙ': ['Ø³ÙƒØ§ÙƒØ§', 'Ø§Ù„Ù‚Ø±ÙŠØ§Øª'],
                'Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©': ['Ø¹Ø±Ø¹Ø±', 'Ø·Ø±ÙŠÙ']
            };
        }
        
        // âœ… 4. ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒÙ„ÙŠØ§Øª
        function loadCollegesData() {
            formState.collegesByRegion = {
                'Ø§Ù„Ø±ÙŠØ§Ø¶': [
                    'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ø±ÙŠØ§Ø¶', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ø®Ø±Ø¬', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ø¯ÙˆØ§Ø¯Ù…ÙŠ',
                    'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ù…Ø¬Ù…Ø¹Ø©', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø´Ù‚Ø±Ø§Ø¡', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ù‚ÙˆÙŠØ¹ÙŠØ©'
                ],
                'Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©': [
                    'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø¬Ø¯Ø©', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ø·Ø§Ø¦Ù',
                    'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ù‚Ù†ÙØ°Ø©'
                ],
                'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©': [
                    'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨ÙŠÙ†Ø¨Ø¹'
                ],
                'Ø§Ù„Ø´Ø±Ù‚ÙŠØ©': [
                    'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ø¯Ù…Ø§Ù…', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ø£Ø­Ø³Ø§Ø¡', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ø¬Ø¨ÙŠÙ„',
                    'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø¨Ù‚ÙŠÙ‚', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø­ÙØ± Ø§Ù„Ø¨Ø§Ø·Ù†'
                ],
                'Ø§Ù„Ù‚ØµÙŠÙ…': [
                    'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø¨Ø±ÙŠØ¯Ø©', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø¹Ù†ÙŠØ²Ø©', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ù…Ø°Ù†Ø¨',
                    'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ø±Ø³'
                ],
                'Ø¹Ø³ÙŠØ±': [
                    'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø£Ø¨Ù‡Ø§', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø®Ù…ÙŠØ³ Ù…Ø´ÙŠØ·', 'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ù†Ù…Ø§Øµ',
                    'Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø¨Ù„Ù„Ø³Ù…Ø±'
                ]
            };
            
            // Ù…Ù„Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒÙ„ÙŠØ§Øª
            const collegeSelect = document.getElementById('college');
            collegeSelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ„ÙŠØ©</option>';
            
            for (const region in formState.collegesByRegion) {
                const optgroup = document.createElement('optgroup');
                optgroup.label = region;
                
                formState.collegesByRegion[region].forEach(college => {
                    const option = document.createElement('option');
                    option.value = college;
                    option.textContent = college;
                    optgroup.appendChild(option);
                });
                
                collegeSelect.appendChild(optgroup);
            }
        }
        
        // âœ… 5. ØªØ­Ù…ÙŠÙ„ ØªØ®ØµØµØ§Øª Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©
        function loadHighschoolSpecializations() {
            const specializations = {
                'Ø§Ù„Ø¹Ù„Ù…ÙŠ': ['Ø¹Ù„Ù…ÙŠ Ø·Ø¨ÙŠØ¹ÙŠ', 'Ø¹Ù„Ù…ÙŠ Ø­Ø§Ø³Ø¨ Ø¢Ù„ÙŠ', 'Ø¹Ù„Ù…ÙŠ Ù‡Ù†Ø¯Ø³ÙŠ'],
                'Ø§Ù„Ø£Ø¯Ø¨ÙŠ': ['Ø£Ø¯Ø¨ÙŠ Ø¥Ø¯Ø§Ø±ÙŠ', 'Ø£Ø¯Ø¨ÙŠ Ù‚Ø§Ù†ÙˆÙ†ÙŠ', 'Ø£Ø¯Ø¨ÙŠ Ø´Ø±Ø¹ÙŠ', 'Ø£Ø¯Ø¨ÙŠ Ù„ØºØ§Øª'],
                'Ø§Ù„ØªÙ‚Ù†ÙŠ': ['ØªÙ‚Ù†ÙŠ ÙƒÙ‡Ø±Ø¨Ø§Ø¡', 'ØªÙ‚Ù†ÙŠ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§', 'ØªÙ‚Ù†ÙŠ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª', 'ØªÙ‚Ù†ÙŠ Ø­Ø§Ø³Ø¨ Ø¢Ù„ÙŠ'],
                'Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠ ÙˆØ§Ù„ØªØ¬Ø§Ø±ÙŠ': ['Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¹Ù…Ø§Ù„', 'Ù…Ø­Ø§Ø³Ø¨Ø©', 'Ø³ÙƒØ±ØªØ§Ø±ÙŠØ©', 'ØªØ³ÙˆÙŠÙ‚'],
                'Ø§Ù„ØµØ­ÙŠ': ['ØµØ­ÙŠ ØªÙ…Ø±ÙŠØ¶', 'ØµØ­ÙŠ ØµÙŠØ¯Ù„Ø©', 'ØµØ­ÙŠ Ù…Ø®ØªØ¨Ø±Ø§Øª', 'ØµØ­ÙŠ Ø£Ø´Ø¹Ø©'],
                'Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠ': ['Ø²Ø±Ø§Ø¹ÙŠ Ø¹Ø§Ù…', 'Ø¥Ù†ØªØ§Ø¬ Ø­ÙŠÙˆØ§Ù†ÙŠ', 'Ø¥Ù†ØªØ§Ø¬ Ù†Ø¨Ø§ØªÙŠ'],
                'Ø§Ù„ÙÙ†Ø¯Ù‚ÙŠ': ['ÙÙ†Ø¯Ù‚ÙŠ ÙˆØ³ÙŠØ§Ø­Ø©', 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù…']
            };
            
            const select = document.getElementById('highschoolSpecialization');
            select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>';
            
            for (const category in specializations) {
                const optgroup = document.createElement('optgroup');
                optgroup.label = category;
                
                specializations[category].forEach(spec => {
                    const option = document.createElement('option');
                    option.value = spec;
                    option.textContent = spec;
                    optgroup.appendChild(option);
                });
                
                select.appendChild(optgroup);
            }
        }
        
        // âœ… 6. ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
        function loadSpecializationsData() {
            const specializations = [
                // Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©
                {value: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙƒØªØ¨ÙŠØ©', text: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙƒØªØ¨ÙŠØ©', group: 'Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©', level: 'Ø¯Ø¨Ù„ÙˆÙ…'},
                {value: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø³ÙƒØ±ØªØ§Ø±ÙŠØ© Ø§Ù„Ø·Ø¨ÙŠØ©', text: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø³ÙƒØ±ØªØ§Ø±ÙŠØ© Ø§Ù„Ø·Ø¨ÙŠØ©', group: 'Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©', level: 'Ø¯Ø¨Ù„ÙˆÙ…'},
                {value: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©', text: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©', group: 'Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©', level: 'Ø¯Ø¨Ù„ÙˆÙ…'},
                
                // Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
                {value: 'Ø¯Ø¨Ù„ÙˆÙ… Ø¯Ø¹Ù… ÙÙ†ÙŠ Ù„Ù„Ø­Ø§Ø³Ø¨ Ø§Ù„Ø¢Ù„ÙŠ', text: 'Ø¯Ø¨Ù„ÙˆÙ… Ø¯Ø¹Ù… ÙÙ†ÙŠ Ù„Ù„Ø­Ø§Ø³Ø¨ Ø§Ù„Ø¢Ù„ÙŠ', group: 'Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª', level: 'Ø¯Ø¨Ù„ÙˆÙ…'},
                {value: 'Ø¯Ø¨Ù„ÙˆÙ… Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø­Ø§Ø³Ø¨ Ø§Ù„Ø¢Ù„ÙŠ', text: 'Ø¯Ø¨Ù„ÙˆÙ… Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø­Ø§Ø³Ø¨ Ø§Ù„Ø¢Ù„ÙŠ', group: 'Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª', level: 'Ø¯Ø¨Ù„ÙˆÙ…'},
                {value: 'Ø¯Ø¨Ù„ÙˆÙ… Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨', text: 'Ø¯Ø¨Ù„ÙˆÙ… Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨', group: 'Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª', level: 'Ø¯Ø¨Ù„ÙˆÙ…'},
                
                // Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©
                {value: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù‚ÙˆÙ‰ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©', text: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù‚ÙˆÙ‰ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©', group: 'Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©', level: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³'},
                {value: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„ØªØ±ÙƒÙŠØ¨Ø§Øª Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©', text: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„ØªØ±ÙƒÙŠØ¨Ø§Øª Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©', group: 'Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©', level: 'Ø¯Ø¨Ù„ÙˆÙ…'},
                
                // Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©
                {value: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©', text: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©', group: 'Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©', level: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³'},
                {value: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„ØªØ¨Ø±ÙŠØ¯ ÙˆØ§Ù„ØªÙƒÙŠÙŠÙ', text: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„ØªØ¨Ø±ÙŠØ¯ ÙˆØ§Ù„ØªÙƒÙŠÙŠÙ', group: 'Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©', level: 'Ø¯Ø¨Ù„ÙˆÙ…'},
                
                // ØªØ®ØµØµØ§Øª Ø§Ù„ØªØ¬Ø³ÙŠØ± ÙÙ‚Ø·
                {value: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¯Ø¹Ù… Ù†Ø¸Ù… Ø§Ù„Ø´Ø¨ÙƒØ§Øª', text: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¯Ø¹Ù… Ù†Ø¸Ù… Ø§Ù„Ø´Ø¨ÙƒØ§Øª', group: 'Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª', level: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³'},
                {value: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ø­Ø§Ø³Ø¨', text: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ø­Ø§Ø³Ø¨', group: 'Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª', level: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³'},
                {value: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„', text: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„', group: 'Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©', level: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³'},
                {value: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©', text: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©', group: 'Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©', level: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³'}
            ];
            
            formState.originalSpecializations = specializations;
            formState.filteredSpecializations = [...specializations];
            
            // Ù…Ù„Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ø£ÙˆÙ„Ù‰
            updateFirstPreferenceOptions();
        }
        
        // âœ… 7. ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ø£ÙˆÙ„Ù‰
        function updateFirstPreferenceOptions() {
            const select = document.getElementById('firstPreference');
            const currentType = formState.currentApplicantType;
            
            select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>';
            
            const grouped = {};
            formState.filteredSpecializations.forEach(spec => {
                if (!grouped[spec.group]) {
                    grouped[spec.group] = [];
                }
                grouped[spec.group].push(spec);
            });
            
            for (const group in grouped) {
                const optgroup = document.createElement('optgroup');
                optgroup.label = group;
                
                grouped[group].forEach(spec => {
                    const option = document.createElement('option');
                    option.value = spec.value;
                    option.textContent = spec.text;
                    optgroup.appendChild(option);
                });
                
                select.appendChild(optgroup);
            }
        }
        
        // âœ… 8. ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ø«Ø§Ù†ÙŠØ©
        function updateSecondPreferenceOptions() {
            const firstSelect = document.getElementById('firstPreference');
            const secondSelect = document.getElementById('secondPreference');
            const selectedFirst = firstSelect.value;
            
            secondSelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>';
            
            const grouped = {};
            formState.filteredSpecializations.forEach(spec => {
                if (spec.value !== selectedFirst) {
                    if (!grouped[spec.group]) {
                        grouped[spec.group] = [];
                    }
                    grouped[spec.group].push(spec);
                }
            });
            
            for (const group in grouped) {
                const optgroup = document.createElement('optgroup');
                optgroup.label = group;
                
                grouped[group].forEach(spec => {
                    const option = document.createElement('option');
                    option.value = spec.value;
                    option.textContent = spec.text;
                    optgroup.appendChild(option);
                });
                
                secondSelect.appendChild(optgroup);
            }
        }
        
        // âœ… 9. ÙÙ„ØªØ±Ø© Ø§Ù„ØªØ®ØµØµØ§Øª Ù„Ù„ØªØ¬Ø³ÙŠØ±
        function filterBridgingSpecializations() {
            formState.filteredSpecializations = formState.originalSpecializations.filter(
                spec => spec.level === 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³'
            );
            updateFirstPreferenceOptions();
        }
        
        // âœ… 10. Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ®ØµØµØ§Øª
        function restoreAllSpecializations() {
            formState.filteredSpecializations = [...formState.originalSpecializations];
            updateFirstPreferenceOptions();
        }
        
        // âœ… 11. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© (Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ù…Ø­ÙˆØ±ÙŠØ©)
        function updateAcademicFields(applicantType) {
            formState.currentApplicantType = applicantType;
            
            // 1. Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© ÙˆØªØ¹Ø·ÙŠÙ„ Ø­Ù‚ÙˆÙ„Ù‡Ø§
            const academicSections = document.querySelectorAll('.academic-section');
            academicSections.forEach(section => {
                section.classList.add('hidden');
                
                const inputs = section.querySelectorAll('input, select, textarea');
                inputs.forEach(input => {
                    input.disabled = true;
                    input.required = false;
                    input.classList.remove('field-valid');
                });
            });
            
            // 2. Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
            let targetSectionId = '';
            
            switch(applicantType) {
                case 'new':
                    targetSectionId = 'newStudentFields';
                    document.getElementById('bridgingFields').style.display = 'none';
                    restoreAllSpecializations();
                    break;
                    
                case 'current':
                    targetSectionId = 'currentStudentFields';
                    document.getElementById('bridgingFields').style.display = 'none';
                    restoreAllSpecializations();
                    break;
                    
                case 'transfer':
                    targetSectionId = 'transferStudentFields';
                    document.getElementById('bridgingFields').style.display = 'none';
                    restoreAllSpecializations();
                    break;
                    
                case 'bridging':
                    targetSectionId = 'newStudentFields';
                    document.getElementById('bridgingFields').style.display = 'block';
                    filterBridgingSpecializations();
                    break;
            }
            
            // 3. ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø®ØªØ§Ø±
            const targetSection = document.getElementById(targetSectionId);
            if (targetSection) {
                targetSection.classList.remove('hidden');
                
                const inputs = targetSection.querySelectorAll('input, select, textarea');
                inputs.forEach(input => {
                    input.disabled = false;
                    if (!input.classList.contains('optional')) {
                        input.required = true;
                    }
                });
            }
            
            // 4. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ù…Ø®ÙÙŠ
            applicantTypeInput.value = applicantType;
        }
        
        // âœ… 12. ØªÙ‡ÙŠØ¦Ø© Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø­Ù‚ÙˆÙ„
        function initializeFieldEvents() {
            // Ø£Ø­Ø¯Ø§Ø« Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
            document.querySelectorAll('.applicant-type').forEach(type => {
                type.addEventListener('click', function() {
                    const selectedType = this.getAttribute('data-type');
                    
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¸Ù‡Ø±
                    document.querySelectorAll('.applicant-type').forEach(t => {
                        t.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ù‚ÙˆÙ„
                    updateAcademicFields(selectedType);
                    
                    // Ø¥Ø¸Ù‡Ø§Ø± ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„ØªØ¬Ø³ÙŠØ± Ø¥Ø°Ø§ Ù„Ø²Ù…
                    if (selectedType === 'bridging') {
                        showBridgingAlert();
                    }
                    
                    updateProgressBar();
                });
            });
            
            // Ø­Ø¯Ø« ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø©
            document.getElementById('region').addEventListener('change', function() {
                const region = this.value;
                formState.selectedRegion = region;
                updateCitiesByRegion(region);
                updateProgressBar();
            });
            
            // Ø­Ø¯Ø« ØªØºÙŠÙŠØ± Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©
            document.getElementById('studyType').addEventListener('change', function() {
                formState.studyType = this.value;
                
                if (this.value === 'Ù…Ø³Ø§Ø¦ÙŠ' || this.value === 'ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨Ø¹Ø¯') {
                    document.getElementById('paymentWarning').style.display = 'block';
                    document.getElementById('paymentCheckbox').classList.remove('hidden');
                    document.getElementById('paymentAgreement').required = true;
                    
                    // ØªÙ†Ø¨ÙŠÙ‡ Ù„Ø·ÙŠÙ
                    setTimeout(() => {
                        alert(`ğŸ“¢ ØªÙ†Ø¨ÙŠÙ‡: Ø§Ù„Ù…Ø³Ø§Ø± (${this.value}) Ø¨Ø±Ø³ÙˆÙ… Ø¯Ø±Ø§Ø³ÙŠØ©.\n\nğŸ’³ Ø§Ù„Ø¯ÙØ¹ Ù„Ø§ ÙŠØªÙ… Ø§Ù„Ø¢Ù†ØŒ Ø¨Ù„ Ø³ÙŠÙƒÙˆÙ† Ø¹Ù†Ø¯ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©.`);
                    }, 500);
                } else {
                    document.getElementById('paymentWarning').style.display = 'none';
                    document.getElementById('paymentCheckbox').classList.add('hidden');
                    document.getElementById('paymentAgreement').required = false;
                    document.getElementById('paymentAgreement').checked = false;
                }
                
                updateProgressBar();
            });
            
            // Ø­Ø¯Ø« ØªØºÙŠÙŠØ± Ø§Ù„Ø±ØºØ¨Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
            document.getElementById('firstPreference').addEventListener('change', function() {
                updateSecondPreferenceOptions();
                updateProgressBar();
            });
            
            // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ÙÙˆØ±ÙŠ
            setupRealTimeValidation();
            
            // Ø£Ø­Ø¯Ø§Ø« ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
            registrationForm.querySelectorAll('input, select, textarea').forEach(field => {
                field.addEventListener('input', updateProgressBar);
                field.addEventListener('change', updateProgressBar);
            });
        }
        
        // âœ… 13. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¯Ù† Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©
        function updateCitiesByRegion(region) {
            const citySelect = document.getElementById('city');
            citySelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>';
            
            if (region && formState.citiesByRegion[region]) {
                formState.citiesByRegion[region].forEach(city => {
                    const option = document.createElement('option');
                    option.value = city;
                    option.textContent = city;
                    citySelect.appendChild(option);
                });
            }
        }
        
        // âœ… 14. Ø¥Ø¸Ù‡Ø§Ø± ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„ØªØ¬Ø³ÙŠØ±
        function showBridgingAlert() {
            const existingAlert = document.querySelector('.bridging-alert');
            if (existingAlert) existingAlert.remove();
            
            const academicSection = document.querySelector('.form-section:nth-child(5)');
            const bridgingAlert = document.createElement('div');
            bridgingAlert.className = 'alert alert-warning bridging-alert';
            bridgingAlert.innerHTML = `
                <i class="fas fa-university"></i>
                <strong>Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ±:</strong> Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø®ØµØµ Ù„Ø®Ø±ÙŠØ¬ÙŠ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø±Ø§ØºØ¨ÙŠÙ† ÙÙŠ Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø¯Ø±Ø§Ø³ØªÙ‡Ù… Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¯Ø±Ø¬Ø© Ø§Ù„Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³. ÙŠØ¬Ø¨ Ø¥Ø±ÙØ§Ù‚ ØµÙˆØ±Ø© Ù…Ù† Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ… Ù…Ø¹ Ø§Ù„Ø·Ù„Ø¨.
            `;
            
            academicSection.parentNode.insertBefore(bridgingAlert, academicSection.nextSibling);
        }
        
        // âœ… 15. Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ÙÙˆØ±ÙŠ
        function setupRealTimeValidation() {
            // Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©
            document.getElementById('idNumber').addEventListener('blur', function() {
                const pattern = /^[0-9]{10}$|^[0-9]{11}$/;
                validateField(this, pattern, 'Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©/Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© ØºÙŠØ± ØµØ­ÙŠØ­. ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù¡Ù  Ø£Ùˆ Ù¡Ù¡ Ø±Ù‚Ù…Ù‹Ø§.');
            });
            
            // Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„
            document.getElementById('phoneNumber').addEventListener('blur', function() {
                const pattern = /^05[0-9]{8}$/;
                validateField(this, pattern, 'Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ ØºÙŠØ± ØµØ­ÙŠØ­. ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 05 ÙˆÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù¡Ù  Ø£Ø±Ù‚Ø§Ù….');
            });
            
            // Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
            document.getElementById('email').addEventListener('blur', function() {
                const pattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                validateField(this, pattern, 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­.');
            });
            
            // Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ
            document.getElementById('hijriBirth').addEventListener('blur', function() {
                const pattern = /^(14[4-9][0-9])\/(0[1-9]|1[0-2])\/(0[1-9]|[12][0-9]|3[01])$/;
                validateField(this, pattern, 'Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØµÙŠØºØ©: Ø³Ù†Ø©/Ø´Ù‡Ø±/ÙŠÙˆÙ…');
            });
        }
        
        // âœ… 16. Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø­Ù‚ÙˆÙ„
        function validateField(field, pattern, errorMessage) {
            const errorElement = document.getElementById(field.id + 'Error');
            
            if (field.value && !pattern.test(field.value)) {
                field.classList.add('has-error');
                field.classList.remove('field-valid');
                
                if (errorElement) {
                    errorElement.textContent = errorMessage;
                    errorElement.style.display = 'block';
                }
                return false;
            } else {
                field.classList.remove('has-error');
                if (field.value) {
                    field.classList.add('field-valid');
                }
                
                if (errorElement) {
                    errorElement.style.display = 'none';
                }
                return true;
            }
        }
        
        // âœ… 17. ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
        function updateProgressBar() {
            const requiredFields = registrationForm.querySelectorAll('[required]');
            let filledCount = 0;
            
            requiredFields.forEach(field => {
                if (field.type === 'checkbox') {
                    if (field.checked) filledCount++;
                } else if (field.type === 'radio') {
                    // Ù„Ø§ Ù†ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ radio Ù‡Ù†Ø§
                } else {
                    if (field.value.trim() !== '') filledCount++;
                }
            });
            
            const progressPercent = requiredFields.length > 0 ? 
                Math.round((filledCount / requiredFields.length) * 100) : 0;
            
            document.getElementById('progressFill').style.width = `${progressPercent}%`;
            document.getElementById('progressPercent').textContent = `${progressPercent}%`;
            
            // ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø§Ù„Ø²Ø±
            if (progressPercent >= 80) {
                submitBtn.style.background = 'linear-gradient(135deg, #4caf50, #2e7d32)';
            } else if (progressPercent >= 50) {
                submitBtn.style.background = 'linear-gradient(135deg, #ff9800, #f57c00)';
            } else {
                submitBtn.style.background = 'linear-gradient(135deg, var(--primary-color), var(--primary-dark))';
            }
        }
        
        // âœ… 18. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        function validateForm() {
            let isValid = true;
            
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø·Ø£
            document.querySelectorAll('.error-message').forEach(el => {
                el.style.display = 'none';
                el.textContent = '';
            });
            
            // Ø¥Ø²Ø§Ù„Ø© Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
            document.querySelectorAll('.has-error').forEach(el => {
                el.classList.remove('has-error');
            });
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙÙŠ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù†Ø´Ø·Ø© ÙÙ‚Ø·
            const activeSections = document.querySelectorAll('.academic-section:not(.hidden)');
            const allRequiredFields = [];
            
            // Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù…Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
            const generalRequired = registrationForm.querySelectorAll('[required]:not(.academic-section [required])');
            generalRequired.forEach(field => allRequiredFields.push(field));
            
            // Ø§Ù„Ø­Ù‚ÙˆÙ„ ÙÙŠ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù†Ø´Ø·Ø©
            activeSections.forEach(section => {
                const inputs = section.querySelectorAll('[required]');
                inputs.forEach(input => allRequiredFields.push(input));
            });
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„ Ø­Ù‚Ù„
            allRequiredFields.forEach(field => {
                const errorElement = document.getElementById(field.id + 'Error');
                
                if (field.type === 'checkbox') {
                    if (!field.checked) {
                        isValid = false;
                        field.classList.add('has-error');
                        if (errorElement) {
                            errorElement.textContent = 'ÙŠØ¬Ø¨ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„';
                            errorElement.style.display = 'block';
                        }
                    }
                } else {
                    if (!field.value.trim()) {
                        isValid = false;
                        field.classList.add('has-error');
                        if (errorElement) {
                            errorElement.textContent = 'Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨';
                            errorElement.style.display = 'block';
                        }
                    }
                }
            });
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©
            const validationChecks = [
                {field: 'idNumber', pattern: /^[0-9]{10}$|^[0-9]{11}$/, message: 'Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©/Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© ØºÙŠØ± ØµØ­ÙŠØ­'},
                {field: 'phoneNumber', pattern: /^05[0-9]{8}$/, message: 'Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ ØºÙŠØ± ØµØ­ÙŠØ­'},
                {field: 'email', pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/, message: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­'}
            ];
            
            validationChecks.forEach(check => {
                const field = document.getElementById(check.field);
                if (field && field.value) {
                    if (!check.pattern.test(field.value)) {
                        isValid = false;
                        field.classList.add('has-error');
                        const errorElement = document.getElementById(check.field + 'Error');
                        if (errorElement) {
                            errorElement.textContent = check.message;
                            errorElement.style.display = 'block';
                        }
                    }
                }
            });
            
            return isValid;
        }
        
        // âœ… 19. Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¥Ù„Ù‰ Web3Forms
        async function submitFormToWeb3Forms(formData) {
            const url = 'https://api.web3forms.com/submit';
            
            const formObject = {};
            formData.forEach((value, key) => {
                formObject[key] = value;
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
            formObject['timestamp'] = new Date().toISOString();
            formObject['user_agent'] = navigator.userAgent;
            formObject['page_url'] = window.location.href;
            formObject['applicant_type'] = formState.currentApplicantType;
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(formObject)
                });
                
                const result = await response.json();
                return result;
            } catch (error) {
                throw new Error('ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…');
            }
        }
        
        // âœ… 20. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        registrationForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            if (!validateForm()) {
                alert('âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØµØ­ÙŠØ­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„.');
                return;
            }
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù„Ù„Ø±Ø¯
            const emailField = document.getElementById('email');
            if (emailField && emailField.value) {
                replyToEmail.value = emailField.value;
            }
            
            // Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
            const originalBtnHTML = submitBtn.innerHTML;
            submitBtn.innerHTML = '<span class="loading"></span> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...';
            submitBtn.disabled = true;
            
            // Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯
            const studyType = document.getElementById('studyType').value;
            const applicantType = applicantTypeInput.value;
            
            let confirmationMessage = 'ğŸ“‹ ØªØ£ÙƒÙŠØ¯ Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„ØªØ³Ø¬ÙŠÙ„\n\n';
            
            if (studyType === 'Ù…Ø³Ø§Ø¦ÙŠ' || studyType === 'ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨Ø¹Ø¯') {
                confirmationMessage += 'ğŸ’° ØªÙ†Ø¨ÙŠÙ‡: Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø°ÙŠ Ø§Ø®ØªØ±ØªÙ‡ Ø¨Ø±Ø³ÙˆÙ… Ø¯Ø±Ø§Ø³ÙŠØ©.\n';
            }
            
            if (applicantType === 'bridging') {
                confirmationMessage += 'ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ± ÙŠØªØ·Ù„Ø¨ Ø¥Ø±ÙØ§Ù‚ Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ….\n';
            }
            
            confirmationMessage += '\nÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¹Ù„Ù…:\n';
            confirmationMessage += 'âœ… Ø§Ù„Ø¯ÙØ¹ Ù„Ø§ ÙŠØªÙ… Ø§Ù„Ø¢Ù†\n';
            confirmationMessage += 'âœ… Ø³ÙŠÙƒÙˆÙ† Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©\n';
            confirmationMessage += 'âœ… Ø³ØªØµÙ„Ùƒ Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ\n\n';
            confirmationMessage += 'Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŸ';
            
            if (confirm(confirmationMessage)) {
                try {
                    // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    const formData = new FormData(registrationForm);
                    
                    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    const result = await submitFormToWeb3Forms(formData);
                    
                    if (result.success) {
                        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
                        formContainer.style.display = 'none';
                        successMessage.style.display = 'block';
                        
                        // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¹Ù„Ù‰
                        window.scrollTo({
                            top: 0,
                            behavior: 'smooth'
                        });
                        
                        // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
                        addSuccessMessageDetails(applicantType, studyType);
                        
                        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
                        resetForm();
                        
                        console.log('ğŸ‰ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ù†Ø¬Ø§Ø­!');
                    } else {
                        throw new Error(result.message || 'ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨');
                    }
                } catch (error) {
                    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:', error);
                    alert(`Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨:\n\n${error.message}\n\nÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.`);
                    submitBtn.innerHTML = originalBtnHTML;
                    submitBtn.disabled = false;
                }
            } else {
                // Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
                submitBtn.innerHTML = originalBtnHTML;
                submitBtn.disabled = false;
            }
        });
        
        // âœ… 21. Ø¥Ø¶Ø§ÙØ© ØªÙØ§ØµÙŠÙ„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
        function addSuccessMessageDetails(applicantType, studyType) {
            const successDiv = document.getElementById('successMessage');
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø®Ø§ØµØ© Ø¨Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ±
            if (applicantType === 'bridging') {
                const bridgingNote = document.createElement('div');
                bridgingNote.className = 'alert alert-info';
                bridgingNote.style.marginTop = '20px';
                bridgingNote.innerHTML = `
                    <i class="fas fa-university"></i>
                    <strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ø®Ø§ØµØ© Ø¨Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ±:</strong> ÙŠØ¬Ø¨ Ø¥Ø­Ø¶Ø§Ø± Ø£ØµÙ„ Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ… ÙˆØ¨ÙŠØ§Ù† Ø§Ù„Ø¯Ø±Ø¬Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©.
                `;
                successDiv.appendChild(bridgingNote);
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©
            if (studyType === 'Ù…Ø³Ø§Ø¦ÙŠ' || studyType === 'ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨Ø¹Ø¯') {
                const feesNote = document.createElement('div');
                feesNote.className = 'alert alert-warning';
                feesNote.style.marginTop = '20px';
                feesNote.innerHTML = `
                    <i class="fas fa-money-bill-wave"></i>
                    <strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©:</strong> Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ© Ù„ØªÙˆØ¶ÙŠØ­ Ø¢Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©.
                `;
                successDiv.appendChild(feesNote);
            }
        }
        
        // âœ… 22. Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        function resetForm() {
            registrationForm.reset();
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¸Ù‡Ø±
            document.querySelectorAll('.applicant-type').forEach(t => t.classList.remove('selected'));
            document.getElementById('applicantNew').classList.add('selected');
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ù‚ÙˆÙ„
            updateAcademicFields('new');
            restoreAllSpecializations();
            
            // Ø¥Ø®ÙØ§Ø¡ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø±Ø³ÙˆÙ…
            document.getElementById('paymentWarning').style.display = 'none';
            document.getElementById('paymentCheckbox').classList.add('hidden');
            document.getElementById('paymentAgreement').required = false;
            document.getElementById('paymentAgreement').checked = false;
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
            updateProgressBar();
        }
        
        // âœ… 23. ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…
        initializeSystem();
    });
    </script>
</body>
                                      </html>
